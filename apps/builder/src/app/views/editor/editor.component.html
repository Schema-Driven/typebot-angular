<div class="flex flex-col h-screen bg-slate-400 custom-bg">
  <div class="h-12 w-full bg-blue-500">
    <!-- <button (click)="connectSourceToTargetUsingJSPlumb()">Connect</button> -->
    <div class="relative bg-white">
      <div class=" mx-auto px-4 sm:px-6">
        <div class="flex justify-between items-center border-b-2 border-gray-100 py-2 md:justify-start md:space-x-10">
          <div class="flex justify-start lg:w-0 lg:flex-1">
             
              <a href="#" class="bg-gray-100 rounded-lg p-0.5 w-10 h-10 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
              </a>
              <a href="#" class="text-base font-normal  text-black hover:text-gray-900 flex items-center ml-4 justify-center"> 
                <img src="assets/svgs/setting.svg" class="w-7 h-7 mr-2 mt-1.5"> 
                My Typebot</a> 
               <div class="flex items-center ml-3">
                <a href="#" class="bg-gray-100 rounded-md p-0.5 w-7 h-7  mr-2 flex items-center justify-center">
                  <img src="assets/svgs/reverse.svg" class="h-3.5 w-3.5">
                  
                </a>
                <a href="#" class="bg-gray-100 rounded-md p-0.5 w-7 h-7  flex items-center justify-center">
                  <img src="assets/svgs/forward.svg" class="h-3.5 w-3.5">
                </a>
                <span class="text-gray-500 ml-4 flex items-center text-sm"> Saving...</span>
               </div>
          </div>
          <div class="-mr-2 -my-2 md:hidden">
            <button type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
              <span class="sr-only">Open menu</span>
              <!-- Heroicon name: outline/menu -->
              <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
          <nav class="hidden md:flex space-x-6">
            <a href="#" class="text-base font-medium text-blue-600 border border-blue-600 py-1.5 px-4 rounded-md hover:bg-gray-100 hover:text-gray-900"> Flow </a>
            <a href="#" class="text-base font-medium text-black py-1.5 px-4 rounded-md hover:bg-gray-100 hover:text-gray-900"> Theme </a>
    
            <a href="#" class="text-base font-medium text-black py-1.5 px-4 rounded-md hover:bg-gray-100 hover:text-gray-900"> Setting </a>
            <a href="#" class="text-base font-medium text-black py-1.5 px-4 rounded-md hover:bg-gray-100 hover:text-gray-900"> Share </a>
    
            
          </nav>
          <div class="hidden md:flex items-center justify-end md:flex-1 lg:w-0">
            <a href="" class="ml-8 whitespace-nowrap inline-flex items-center justify-center px-2 py-2 mr-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-gray-100">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
            </a>
            <a href="#" class="whitespace-nowrap inline-flex items-center rounded-md shadow-sm justify-center bg-gray-100 px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-900"> Preview </a>
           
            <button (click)="connectSourceToTargetUsingJSPlumb()"  class="ml-3 whitespace-nowrap inline-flex items-center justify-center px-4 py-2  rounded-md shadow-sm text-base font-medium text-white bg-blue-600">Publish</button>
            
          </div>
        </div>
      </div>
    
      <!--
        Mobile menu, show/hide based on mobile menu state.
    
        Entering: "duration-200 ease-out"
          From: "opacity-0 scale-95"
          To: "opacity-100 scale-100"
        Leaving: "duration-100 ease-in"
          From: "opacity-100 scale-100"
          To: "opacity-0 scale-95"
      -->
      
    </div>
  </div>
  <div class="flex flex-row w-full h-full">
    <div class="absolute flex flex-col top-20 w-80  left-4  z-10 bg-white p-3 rounded-lg custom-shadow overflow-y-scroll"
    [ngStyle]="{'height':'calc(100vh - 120px)'}">
    <div class="flex items-center justify-end mb-4">
      <a href="#" class="rounded-lg border-gray-200 border p-0.5 flex items-center justify-center w-8 h-8">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
      </a>
    </div>


      <div cdkDropList
      #todoList="cdkDropList"
      [cdkDropListData]="toolbar"
      [cdkDropListConnectedTo]="[doneList]"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListSortingDisabled]="true">
        <div class="pb-5">
          <label class="font-base text-gray-600 font-medium pb-2 pl-1.5">Bubbles</label>
          <div class=" flex flex-wrap">
            <div class="w-2/4 px-1.5 py-1.5 button-design" *ngFor="let item of bubbles">
              <div class="bg-slate-100   hover-shadow w-42 h-10 rounded-lg">
                <div class=" bg-white  border border-slate-300 hover-shadow w-42 py-2 px-3 h-10 rounded-lg" cdkDrag (cdkDragStarted)="cdkDragStarted($event)" [cdkDragFreeDragPosition]="{x:item.position.x,y:item.position.y}" [id]="item.id">
                  <div class="example-custom-placeholder" *cdkDragPlaceholder>

                  </div>
                  <div class="w-full text-sm px-2">
                    <img [src]="item.svg" class="toolbar-svg"/>
                    {{item.name}} 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <div cdkDropList
      #todoList="cdkDropList"
      [cdkDropListData]="toolbar"
      [cdkDropListConnectedTo]="[doneList]"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListSortingDisabled]="true">
        <div class="pb-5">
          <label class="font-base text-gray-600 font-medium pb-2 pl-1.5">Inputs</label>
          <div class=" flex flex-wrap">
            <div class="w-2/4 px-1.5 py-1.5 button-design" *ngFor="let item of inputs">
              <div class="bg-slate-100 hover-shadow w-42 h-10 rounded-lg">
                <div class=" bg-white  border border-slate-300 hover-shadow w-42 py-2 px-3 h-10 rounded-lg" cdkDrag (cdkDragStarted)="cdkDragStarted($event)" [cdkDragFreeDragPosition]="{x:item.position.x,y:item.position.y}" [id]="item.id">
                  <div class="example-custom-placeholder" *cdkDragPlaceholder>

                  </div>
                  <div class="w-full text-sm px-2">
                    <img [src]="item.svg" class="toolbar-svg"/>
                    {{item.name}} 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div cdkDropList
      #todoList="cdkDropList"
      [cdkDropListData]="toolbar"
      [cdkDropListConnectedTo]="[doneList]"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListSortingDisabled]="true">
        <div class="pb-5">
          <label class="font-base text-gray-600 font-medium pb-2 pl-1.5">Logic</label>
          <div class=" flex flex-wrap">
            <div class="w-2/4 px-1.5 py-1.5 button-design" *ngFor="let item of logics">
              <div class="bg-slate-100 hover-shadow w-42 h-10 rounded-lg">
                <div class=" bg-white  border border-slate-300 hover-shadow w-42 py-2 px-2 h-10 rounded-lg" cdkDrag (cdkDragStarted)="cdkDragStarted($event)" [cdkDragFreeDragPosition]="{x:item.position.x,y:item.position.y}" [id]="item.id">
                  <div class="example-custom-placeholder" *cdkDragPlaceholder>

                  </div>
                  <div class="w-full text-sm px-2">
                    <img [src]="item.svg" class="toolbar-svg"/>
                    {{item.name}} 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div cdkDropList
      #todoList="cdkDropList"
      [cdkDropListData]="toolbar"
      [cdkDropListConnectedTo]="[doneList]"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListSortingDisabled]="true">
        <div class="pb-5">
          <label class="font-base text-gray-600 font-medium pb-2 pl-1.5">Integerations</label>
          <div class=" flex flex-wrap">
            <div class="w-2/4 px-1.5 py-1.5 button-design" *ngFor="let item of integerations">
              <div class="bg-slate-100 hover-shadow w-42 h-10 rounded-lg">
                <div class=" bg-white  border border-slate-300 hover-shadow w-42 py-2 px-3 h-10 rounded-lg" cdkDrag (cdkDragStarted)="cdkDragStarted($event)" [cdkDragFreeDragPosition]="{x:item.position.x,y:item.position.y}" [id]="item.id">
                  <div class="example-custom-placeholder" *cdkDragPlaceholder>

                  </div>
                  <div class="w-full text-sm px-2">
                    <img [src]="item.svg" class="toolbar-svg"/>
                    {{item.name}} 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


    </div>
    <div class="relative pl-64 w-full"
    cdkDropList
    id="block-container"
    #doneList="cdkDropList"
    [cdkDropListData]="blocks"
    [cdkDropListConnectedTo]="[todoList]"
    (cdkDropListDropped)="drop($event)"
    [cdkDropListSortingDisabled]="true"
    >
      <!-- <div class="absolute px-2 bg-slate-100" *ngFor="let item of blocks" [ngStyle]="{'transform': 'translate(' +(item.position.x - 300)+ 'px, ' + (item.position.y - 80) + 'px)'}" [id]="item.id"> -->
      <!-- <div class="absolute px-2 bg-slate-100" *ngFor="let item of blocks"> -->
        <div 
          class="absolute" 
          *ngFor="let item of blocks" 
          [style]="('top:'+item.position.y+'px;left:'+item.position.x+'px')"
          [id]="item.id"
        >
      <div class="wrap-div w-72 bg-white p-4">
        <div class="title-div pb-4"> 
          <span class="font-sm font-normal ">{{item.name}}</span>
        </div>

        <div
        [id]="item.id"
        class="p-4 bg-slate-100 relative drap-bg-style"
        >
          <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          <div class="w-full px-2">
              {{item.name}}
          </div>
      </div>

      </div>
      <!-- <div class="after-circle-custom" [id]="'block-endpoint-'+item.id" (mousedown)="endpointMouseDown($event)"></div> -->
      </div>
    </div>

    <div class="absolute top-20 right-6">
      <div class="custom-shadow-icon">
        <a href="#" class="bg-white rounded-md p-0.5 w-8 h-8 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
          </svg>
        </a>
      </div>
      <div class="mt-4 custom-shadow-icon">
        <a href="#" class="bg-white rounded-t-md p-0.5 w-8 h-8 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
          </svg>
        </a>
        <a href="#" class="bg-white rounded-b-md p-0.5 w-8 h-8 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M18 12H6" /> 
          </svg> 
        </a>
      </div>
    </div> 
  </div>
</div>
